\documentclass{article}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{float}
\usepackage{tikz}
\usepackage{parskip}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{fancyhdr}
\usepackage[%paperheight = 59.4cm,
            %paperwidth = 42cm,
            %includehead,
            nomarginpar,
            textwidth=15cm,
            headheight=10mm]{geometry}


\begin{document}
 
\pagestyle{fancy}
%\fancyhead{}\fancyfoot{}
\AtBeginEnvironment{align}{\setcounter{equation}{0}} 
\fancyhf[OHC]{Christopher Munoz WRH5 Optimization}
\textbf{Problem 2.1} We covert the following linear program to standard form:
\begin{align}
    \text{maximize} &\null \quad z = 3x_1 + 5x_2 - 4x_3 \\ 
    \text{subject to} &\null \quad 7x_1 - 2x_2 - 3x_3 \geq 4 \\
    & \quad -2x_1 + 4x_2 + 8x_3 = -3 \\
    & \quad 5x_1 - 3x_2 - 2x_3 \leq 9 \\
    & \quad x_1 \geq 1, x_2 \leq 7, x_3 \geq 0
\end{align}
We convert the problem into a minimization problem and multiplying (1) by -1, adding slack to (2), multiplying (3) by -1 adding surplus to (4), and turning our general constraints into equalities in 5, We will be using the notation in the book. Our linear program in standard form ends up being: \newline
\newcounter{align}
\begin{align}
    \text{minimize} &\null \quad \hat{z} = -3x_1 - 5x_2 + 4x_3 \\ 
    \text{subject to} &\null \quad 7x_1 - 2x_2 - 3x_3 - e_4 = 4 \\
    & \quad 2x_1 - 4x_2 - 8x_3 = 3 \\
    & \quad 5x_1 - 3x_2 - 2x_3 + s_5 = 9 \\
    & \quad x_1 - e_6 = 1 \\
    & \quad x_2 + s_7 = 7 \\
    & \quad x_1, x_2, x_3, e_4, s_5, e_6,s_7 \geq 0
\end{align}
Or in our matrix-vector form: 
\begin{align*}
    \text{minimize} &\null \quad z = c^Tx \\ 
    \text{subject to} &\null \quad Ax=b \\
    & \quad x \geq 0
\end{align*}
Where $A \in \mathbb{R}^{mxn}$, $b \in \mathbb{R}^n$, $x \in \mathbb{R}^n$ such that:  
\begin{align*}c = 
    \begin{bmatrix} 
        -3 & - 5 & 4 & 0 & 0 & 0 & 0
    \end{bmatrix}^T && A =  
    \begin{bmatrix}
        7 & -2 & -3 & -1 & 0 & 0 & 0 \\
        2 & -4 & -8 & 0 & 0 & 0 & 0 \\
        5 & -3 & -2 & 0 & 1 & 0 & 0 \\
        1 & 0 & 0 & 0 & 0 & -1 & 0 \\
        0 & 1 & 0 & 0 & 0 & 0 & 1
    \end{bmatrix} \\ x = 
    \begin{bmatrix}
        x_1 & x_2 & x_3 & e_4 & s_5 & e_6 & s_7
    \end{bmatrix}^T && b = 
    \begin{bmatrix}
        4 & 3 & 9 & 1 & 7
    \end{bmatrix}^T
\end{align*} \newline
\textbf{Problem 2.2} We convert the fllowing linear program to standard form:
\begin{align}
    \text{minimize} &\null \quad z = x_1 - 5x_2 - 7x_3 \\ 
    \text{subject to} &\null \quad 5x_1 - 2x_2 + 6x_3 \geq 5 \\
    & \quad 3x_1 + 4x_2 - 9x_3 = 3 \\
    & \quad 7x_1 + 3x_2 + 5x_3 \leq 9 \\
    & \quad x_1 \geq -2, x_2, x_3 \text{ free}
\end{align}
For this problem we start with substituting for the free variables first so we can inject those values into our function, we substitute $x_2 = x_2' - x_2''$ and $x_3 = x_3' - x_3''$, we also add excess to (2) and surplus to (4) and substitute our general constraints at (5) which then becomes:
\begin{align}
    \text{minimize} &\null \quad \hat{z} = x_1 - 5x_2' + 5x_2'' - 7x_3' + 7x_3'' \\ 
    \text{subject to} &\null \quad 5x_1 - 2x_2' + 2x_2'' + 6x_3' - 6x_3'' - e_4 = 5 \\
    & \quad 3x_1 + 4x_2' - 4x_2'' - 9x_3' + 9x_3'' = 3 \\
    & \quad 7x_1 + 3x_2' - 3x_2'' + 5x_3'- 5x_3'' + s_5 = 9  \\
    & \quad -x_1 - s_6 = 2 \\ 
    & \quad x_1,x_2',x_2'',x_3', x_3'', e_4, s_5, s_6, \geq 0
\end{align}
Or in our matrix-vector form: 
\begin{align*}
    \text{minimize} &\null \quad z = c^Tx \\
    \text{subject to} &\null \quad Ax=b \\
    & \quad x \geq 0
\end{align*}
Where $A \in \mathbb{R}^{mxn}$, $b \in \mathbb{R}^n$, $x, e, s \in \mathbb{R}^n$ such that:  
\begin{align*}c =
    \begin{bmatrix}
        1 & -5 & 5 & -7 & 7 & 0 & 0 & 0
    \end{bmatrix}^T && A =
    \begin{bmatrix}
        5 & -2 & 2 & 6 & -6 & -1 & 0 & 0 \\
        2 & 4 & -4 & -9 & 9 & 0 & 0 & 0 \\
        7 & 3 & -3 & 5 & -5 & 0 & 1 & 0 \\
        -1 & 0 & 0 & 0 & 0 & 0 & 0 & -1
    \end{bmatrix} \\ x =
    \begin{bmatrix}
        x_1 & x_2' & x_2'' & x_3' & x_3'' & e_4 & s_5 & s_6
    \end{bmatrix}^T && b =
    \begin{bmatrix}
        5 & 3 & 9 & 2
    \end{bmatrix}
\end{align*}
\textbf{Problem 2.4} We consider the following linear program and convert to standard form, this time without using the $x_3 = x_3' - x_3''$ substitution, rather we show that we can replace the problem with an equivalent problem with one less variable and one less constraint through eliminating $x_3$.
\begin{align}
    \text{maximize} &\null \quad z = -5x_1 - 3x_2 + 7x_3 \\ 
    \text{subject to} &\null \quad 2x_1 + 4x_2 + 6x_3 = 7 \\
    & \quad 3x_1 - 5x_2 + 3x_3 \leq 5 \\
    & \quad -4x_1 - 9x_2 + 4x_3 \leq -4 \\
    & \quad x_1 \geq -2, 0 \leq x_2 \leq 4, x_3 \text{ free}
\end{align} 
We solve for $x_3$ in (2) and get $x_3 = \frac{7- 2x_1 - 4x_2}{6}$ and replace $x_3$ everywhere, multiply (1) and (4) by -1, add slack to (3) and (4), and excess to $x_1$ and slack to $x_2 $ in (5). 
\begin{align}
    \text{minimize} &\null \quad \hat{z} = 5x_1 + 3x_2 - 7(\frac{7}{6} - \frac{2x_1}{6} - \frac{4x_2}{6})  \\ 
    \text{subject to} &\null \quad 2x_1 + 4x_2 + 6(\frac{7}{6} - \frac{2x_1}{6} - \frac{4x_2}{6})  = 7 \\
    & \quad 3x_1 - 5x_2 + 3(\frac{7}{6} - \frac{2x_1}{6} - \frac{4x_2}{6})  + s_3 = 5 \\
    & \quad 4x_1 + 9x_2 - 4(\frac{7}{6} - \frac{2x_1}{6} - \frac{4x_2}{6})  - e_4 = 4 \\
    & \quad -x_1 + s_5 = 2, \\
    & \quad x_2 + s_6 = 4 \\
    & \quad x_1, x_2, s_3, e_4,s_5, s_6 \geq 0
\end{align}
We consolidate and simplify, replacing our objective function with $z = \hat{z} - \frac{49}{6}$, note that (2) gets eliminated above:
\begin{align*}
    \text{minimize} &\null \quad z' = \frac{22x_1}{3} + \frac{23x_2}{3} \\ 
    \text{subject to} &\null \quad -2x_1 + 7x_2  - s_3 = \frac{3}{2} \\
    & \quad \frac{16x_1}{3} + \frac{35x_2}{3} - e_4 = \frac{26}{3} \\
    & \quad -x_1 + s_5 = 2, \\
    & \quad x_2 + s_6 = 4 \\ 
    & \quad x_1, x_2, s_3, e_4,s_5, s_6 \geq 0
\end{align*}
And in our matrix-vector form
\begin{align*}
    \text{minimize} &\null \quad z = c^Tx \\
    \text{subject to} &\null \quad Ax=b \\
    & \quad x \geq 0
\end{align*}
Where $A \in \mathbb{R}^{mxn}$, $b \in \mathbb{R}^n$, $x, e, s \in \mathbb{R}^n$ such that:  
\begin{align*}c =
    \begin{bmatrix}
        \frac{22}{3} & \frac{23}{3} & 0 & 0 & 0 & 0
    \end{bmatrix}^T && A =
    \begin{bmatrix}
        -2 & 7 & -1 & 0 & 0 & 0 \\
        \frac{16}{3} & \frac{35}{3} & 0 & -1 & 0 & 0 \\
        -1 & 0 & 0 & 0 & 1 & 0 \\
        0 & 1 & 0 & 0 & 0 & 1
    \end{bmatrix} \\ x =
    \begin{bmatrix}
        x_1 & x_2 & s_3 & e_4 & s_5 & s_6
    \end{bmatrix}^T && b =
    \begin{bmatrix}
        \frac{3}{2} & \frac{26}{3} & 2 & 4
    \end{bmatrix}
\end{align*}
The reason this technique cannot be used to eliminate variables with nonnegative constraints is because we can't ensure that our substitution for x is greater than or equal to zero, we may actually violate the original problems constraints if we don't add new constraints.

\textbf{Problem 2.5} We consider the following linear program below
\begin{align*}
    \text{minimize} &\null \quad z = c^Tx \\
    \text{subject to} &\null \quad Ax \leq b \\
    & \quad e^Tx = 1 \\
    & \quad x_1, ..., x_{n-1} \geq 0, x_n \text{free}
\end{align*}
Where $e = (1,...,1)^T$, $b$ and $c$ are arbitrary vectors of length $n$, and $A$ is the matrix with entries $a_{i,i} = a_{i,n} = 1$ for $i = 1,...n$ and all other entries being zero. We use the constraint $e^Tx = 1$ to eliminate the free variable $x_n$.

Lets first show what $A$ actually looks for visual reference and convenience:
\begin{align*} A = 
    \begin{bmatrix}
        1 & 0 & 0 & ... & 0 & 1 \\
        0 & 1 & 0 & ... & 0 & 1 \\
        0 & 0 & 1 & ... & 0 & 1 \\ 
        \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
        0 & 0 & 0 & ... & 1 & 1
    \end{bmatrix}
\end{align*}
Now lets consider the constraint $e^Tx = 1$:
\begin{align*}
    x_1 + x_2 + ... + x_n = 1
\end{align*}
and solve for $x_n$:
\begin{align*}
    x_n = 1 - (x_1 + x_2 + ... + x_{n-1})
\end{align*}
We can substitute this into our objective function $z = c^Tx$ and into our constraints like the previous problem we did: 
\end{document}
